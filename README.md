<i>Please do not laugh at the quality of my project code. I have learned a lot in Android development since I published this project and I know how poor it looks.</i><br/><br/> ğŸ˜‘

<b>Nazwa projektu:</b> System GÅ‚osowania Koala<br/>
<b>Autorzy:</b> Kamiiru8 + 4 inne osoby<br/>
<b>Zakres moich prac:</b> Aplikacje mobilne emulujÄ…ce dziaÅ‚anie fizycznego pilota dla systemÃ³w Android i iOS, grafiki<br/>
<b>Wykorzystane przeze mnie:</b><br/>
- <b>JÄ™zyk programowania:</b> C#<br/>
- <b>Åšrodowisko programistyczne:</b> Xamarin Studio<br/>
- <b>UÅ¼yte technologie:</b> ZXing.Net.Mobile, JSON<br/><br/>


<b>Opis:</b> Projekt powstaÅ‚ na potrzeby przedmiotu oraz konkursu Programowania ZespoÅ‚owego WydziaÅ‚u Matematyki i Informatyki UMK.<br/><br/>

<b>Link do strony projektu:</b><br/>
https://aleks-2.mat.umk.pl/pz2016/zesp05/index.html<br/><br/>

<b>Link do wideoprezentacji:</b><br/>
http://tv.umk.pl/#movie=3489
<br/><br/>

<b>Ulotka projektu:</b><br/><br/>
![ulotkas](https://user-images.githubusercontent.com/29763402/28135223-be9fbd58-6745-11e7-8be8-9c4dd288f13f.jpg)
<br/><br/>

<b>Aplikacja mobilna:</b><br/><br/>
<img width="600" alt="app1" src="https://user-images.githubusercontent.com/29763402/28137008-f5b48804-674b-11e7-9c93-122d21fc4489.png">
<img width="615" alt="app2" src="https://user-images.githubusercontent.com/29763402/28136906-89694356-674b-11e7-94e1-f3d15756c606.png">
<br/><br/>

<b>Opis aktywnoÅ›ci projektu:</b><br/>
- <b>MainActivity.cs</b> â€“ aktywnoÅ›Ä‡ reprezentujÄ…ca pierszy ekran apikacji (rys 1.) . Na poczÄ…tku przy pomocy SharedPreferences zostaje podjÄ™ta prÃ³ba pobrania watroÅ›ci z pliku "UserInfo" zapisanego w pamiÄ™ci lokalenj urzÄ…dzenia<a target="_blank" href="https://github.com/Kamiiru8/SystemGlosowaniaKoala/blob/master/MainActivity.cs#L31-#L35"><sup>[1]</sup></a>. WartoÅ›ci te zostajÄ… zapisane w po zalogowaniu uÅ¼ytkownika za pomocÄ… kodu QR<a target="_blank" href="https://github.com/Kamiiru8/SystemGlosowaniaKoala/blob/master/MainActivity.cs#L80-#L86"><sup>[2]</sup></a> lub tokenu<a target="_blank" href="https://github.com/Kamiiru8/SystemGlosowaniaKoala/blob/master/TokenActivity.cs#L55-#L60"><sup>[3]</sup></a>. UÅ¼ytkownik jest ciagle zalogowany w aplikacji dopÃ³ki nie wyrazi chÄ™ci wylogowania poprzez przyciÅ›niÄ™cie przycisku â€Wylogujâ€<a target="_blank" href="https://github.com/Kamiiru8/SystemGlosowaniaKoala/blob/master/WelcomeActivity.cs#L67-#L94"><sup>[4]</sup></a> lub wygaÅ›nie waÅ¼noÅ›Ä‡ tokenu (24 godziny)<a target="_blank" href="https://github.com/Kamiiru8/SystemGlosowaniaKoala/blob/master/MainActivity.cs#L37-#L45"><sup>[5]</sup></a>. Zapobiega to niechcianemu wylogowaniu siÄ™ z aplikacji podczas gÅ‚osowania â€“ np. przypadkowe wyÅ‚Ä…czenie aplikacji, a nawet po ponownym uruchomienu telefonu uÅ¼ytkownik bÄ™dzie stale zalogowany. JeÅ›li gÅ‚osowanie zakoÅ„czy siÄ™, uÅ¼ytkownik zostaje przeniesiony do ekranu powitalnego (Rys. 4), gdzie oczekuje na rozpoczÄ™cie kolejnego gÅ‚osowania.
JeÅ›li istnieje aktualnie zalogowany uÅ¼ytkownik (w pamiÄ™ci urzÄ…dzenia zapisane sÄ… dane uÅ¼ytkownika) zostaje wyÅ›wietlony ekran powitalny (rys. 4), gdzie uÅ¼ytkownik oczekuje na rozpoczÄ™cie siÄ™ gÅ‚osowania.
JeÅ›li nie istnieje aktualnie zalogowany uÅ¼ytkownik (brak danych uÅ¼ytkownika w pamiÄ™ci urzÄ…dzenia), wtedy zostaje wyÅ›wieltony ekran gÅ‚Ã³wny aplikacji (rys. 1) z moÅ¼liwoÅ›ciÄ… zlogowania siÄ™ na dwa sposoby â€“ za pomocÄ… zeskanowania kodu QR (rys. 2) lub wpisania tokenu (rys. 3). W tej klasie zostaÅ‚a zdefiniowana akcja po przyciÅ›niÄ™ciu przycisku â€Zeskanuj QRâ€<a target="_blank" href="https://github.com/Kamiiru8/SystemGlosowaniaKoala/blob/master/MainActivity.cs#L64-#L107"><sup>[6]</sup></a> oraz przycisku â€Wpisz tokenâ€<a target="_blank" href="https://github.com/Kamiiru8/SystemGlosowaniaKoala/blob/master/MainActivity.cs#L109-#L110"><sup>[7]</sup></a>. Do skanowania kodÃ³w QR uÅ¼yto biblioteki ZXing.Net.Mobile, ktora zwraca rozpoznay tekst<a target="_blank" href="https://github.com/Kamiiru8/SystemGlosowaniaKoala/blob/master/MainActivity.cs#L66-#L67"><sup>[8]</sup></a>. UÅ¼ytkownik chcÄ…cy zalogowaÄ‡ siÄ™ za pomocÄ… kodu QR podchodzi do osoby prowadzÄ…cej gÅ‚osowanie, ktÃ³ra generuje dla danej osoby inwidualny kod QR. UÅ¼ytkownik skanuje ten kod i zostaje uwierzytelniony. W kodzie QR zakodowany jest adres URL, ktÃ³ry zostaje rozpoznany i zdekodowany przez bibliotekÄ™ ZXing.Net.Mobile, po czym przechodzi do podanego adresu URL, pobiera obiekt JSON, ktÃ³ry zostaje zdeserializowany, a zmienne z niego wyÅ‚uskane zostajÄ… zapisane do pamieci lokalnej urzÄ…dzenia<a target="_blank" href="https://github.com/Kamiiru8/SystemGlosowaniaKoala/blob/master/MainActivity.cs#L72-#L86"><sup>[9]</sup></a>. W celu poprawnego dziaÅ‚ania aplikacji zostaje sprawdzana dostÄ™pnoÅ›Ä‡ poÅ‚Ä…czenia z serwerem WWW Systemu GÅ‚osowania<a target="_blank" href="https://github.com/Kamiiru8/SystemGlosowaniaKoala/blob/master/MainActivity.cs#L129-#L144"><sup>[10]</sup></a>.

- <b>TokenActivity.cs</b> â€“ aktywnoÅ›Ä‡ reprezentujÄ…ca ekran tokenu (rys. 3). Tutaj zostaje obsÅ‚uÅ¼ona akcja po przyciÅ›nieciu â€ZatwierdÅºâ€<a target="_blank" href="https://github.com/Kamiiru8/SystemGlosowaniaKoala/blob/master/TokenActivity.cs#L40-#L82"><sup>[1]</sup></a>. UÅ¼ywajÄ…c tego ekranu uÅ¼ytkownik moÅ¼e wpisaÄ‡ token wygenerowany dla tego uÅ¼ytkownika przez osobÄ™ prowadzÄ…cÄ… gÅ‚osowanie. JeÅ›li uÅ¼ytkownik przepisaÅ‚ poprawnie token, zostanie przeniesiony do ekranu powitalnego (Rys. 4).

- <b>WelcomeActivity.cs</b> â€“ aktywnoÅ›c reprezentujÄ…ca ekran powitalny (Rys 4.). Na tym ekranie zostajÄ… wyÅ›wietlone imiÄ™ i nazwisko zalogowanego uÅ¼ytkownika. JeÅ›li nie istnieje aktyne gÅ‚osowanie, uÅ¼ytkownik bÄ™dzie oczekiwaÅ‚ na jego rozpoczÄ™cie. JeÅ›li istnieje, zostanie przeniesiony do ekranu gÅ‚osowania (Rys. 5). 
Sprawdznie, czy istnieje aktyne gÅ‚osowanie odbywa siÄ™ z czÄ™stotliwiÅ›ciÄ… jednej sekundy - co sekundÄ™ zostaje zprawdzona zawartoÅ›Ä‡ obiektu JSON<a target="_blank" href="https://github.com/Kamiiru8/SystemGlosowaniaKoala/blob/master/WelcomeActivity.cs#L103-#L129"><sup>[2]</sup></a>. W tej aktwnoÅ›ci opisano rÃ³wnieÅ¼ akcjÄ™ po przyciÅ›niÄ™ciu "Wyloguj" - zawartoÅ›Ä‡ pamiÄ™ci lokalnej zawierajÄ…cej dane logowania uÅ¼ytkownika zostajÄ… wyczyszczone<a target="_blank" href="https://github.com/Kamiiru8/SystemGlosowaniaKoala/blob/master/WelcomeActivity.cs#L74-#L80"><sup>[2]</sup></a> oraz serwer WWW otrzymuje wiadomoÅ›Ä‡ o wylogowainu siÄ™ uÅ¼ytkownika w leu usuniÄ™cia zbÄ™dnych danych z bazy<a target="_blank" href="https://github.com/Kamiiru8/SystemGlosowaniaKoala/blob/master/WelcomeActivity.cs#L82-#L83"><sup>[3]</sup></a>.
- <b>VoteActivity.cs</b> â€“ aktywnoÅ›Ä‡ reprezentujÄ…ca ekran gÅ‚osowania (Rys 5.), (Rys. 6). Ekran przedstawia szesÄ‡ przyciskÃ³w â€“ z czego sÄ… aktywne tylko te, ktÃ³re odpowiadajÄ… iloÅ›ci odpowiedzi dostÄ™pnej w gÅ‚osowaniu. Minimalna iloÅ›Ä‡ odpowiedzi w gÅ‚osowaniu to dwa. WiadomoÅ›Ä‡ o iloÅ›ci moÅ¼liwych odpowiedzi jest pobierana z obiektu JSON<a target="_blank" href="https://github.com/Kamiiru8/SystemGlosowaniaKoala/blob/master/VoteActivity.cs#L61-#L64"><sup>[1]</sup></a>. W zaleÅ¼noÅ›ci od tego zostaje wyÅ›wietlona odpowiednia plansza z przyciskami<a target="_blank" href="https://github.com/Kamiiru8/SystemGlosowaniaKoala/blob/master/VoteActivity.cs#L66-#L68"><sup>[2]</sup></a>. WybÃ³r odpowiedzi odpowiada przyciÅ›niÄ™ciu danego przycisku<a target="_blank" href="https://github.com/Kamiiru8/SystemGlosowaniaKoala/blob/master/VoteActivity.cs#L77-#L84"><sup>[3]</sup></a>. PrzesyÅ‚anie wiadomoÅ›ci do serwera o wybranej odpowiedzi odbywa siÄ™ poprzez przesÅ‚anie odpowiedniego URL, skÅ‚adajÄ…cego siÄ™ z adresu do skryptu na serwerze odpowiadajÄ…cemu zbieranie wynikÃ³w, numeru ID uÅ¼ytkownika oraz wybranej odpowiedzi (w formacie, np. dla wybranego przycisku pierwszego: "&a=1&b=0&c=0&d=0&e=0&f=0")<a target="_blank" href="https://github.com/Kamiiru8/SystemGlosowaniaKoala/blob/master/VoteActivity.cs#L73"><sup>[4]</sup></a>. Ostatnio przyciÅ›niÄ™ty przycisk oznaczany jest obwÃ³dkÄ…. Za odpowiedÅº zobowiÄ…zujÄ…cÄ… uwaÅ¼a siÄ™ ostatnio wybrany przycisk. JeÅ›li gÅ‚osowanie zakoÅ„czy siÄ™, uÅ¼ytkownik zostaje przeniesiony do Ekranu powitalnego (Rys. 4), gdzie bÄ™dzie oczekiwaÅ‚ na rozpoczÄ™cie kolejnego gÅ‚osowania<a target="_blank" href="https://github.com/Kamiiru8/SystemGlosowaniaKoala/blob/master/VoteActivity.cs#L397-#L408"><sup>[5]</sup></a>.
<br/><br/>
